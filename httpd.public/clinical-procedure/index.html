<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">

    <!-- ‚úÖ Optimisation mobile et PWA -->
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#0f172a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- ‚úÖ Titre et description -->
    <title>Clinical Procedures &amp; SMUR</title>
    <meta name="description" content="Application clinique prototype ‚Äî consultation rapide des proc√©dures et fiches SMUR.">

    <!-- ‚úÖ Liens et ic√¥nes -->
    <link rel="manifest" href="./manifest.webmanifest">
    <link rel="stylesheet" href="./styles.css">
    <link rel="icon" type="image/png" sizes="192x192" href="./icons/icon-192.png">
    <link rel="apple-touch-icon" href="./icons/icon-512.png">
</head>

<body>
<div class="app" id="app" aria-live="polite">
    <!-- ‚úÖ Indicateur de synchronisation -->
    <div class="sync-indicator" id="syncIndicator" role="status" aria-live="polite" aria-atomic="true">
        <span aria-hidden="true">‚ü≥</span>
        <span id="syncText">Hors ligne</span>
    </div>

    <!-- ‚úÖ Barre sup√©rieure -->
    <div class="statusbar" aria-hidden="true"></div>
    <div class="topbar">
        <button class="iconbtn" id="btnMenu" title="Menu" aria-label="Ouvrir le menu">‚ò∞</button>
        <div class="title" id="headerTitle">ED Procedures</div>
        <div class="spacer"></div>
        <button class="iconbtn" id="btnSearch" title="Rechercher" aria-label="Rechercher">üîé</button>
        <button class="iconbtn" id="btnFav" title="Favoris" aria-label="Favoris">‚≠ê</button>
    </div>

    <!-- ‚úÖ Navigation lat√©rale -->
    <nav class="drawer" id="drawer" aria-label="Navigation principale">
        <h3>Navigation</h3>
        <a href="#" data-nav="home">üè† Accueil</a>
        <a href="#" data-nav="procedures">üìö Proc√©dures</a>
        <a href="#" data-nav="smur">üöë SMUR</a>
        <a href="#" data-nav="favorites">‚≠ê Favoris</a>
        <h3>Par syst√®me</h3>
        <div id="drawerSystems"></div>
        <h3>R√©glages</h3>
        <a href="#" data-nav="settings">‚öôÔ∏è Pr√©f√©rences</a>
        <div class="kicker" style="margin:16px">Prototype clinique ‚Ä¢ Contenu fictif</div>
    </nav>
    <div class="overlay" id="overlay" role="presentation"></div>

    <!-- ‚úÖ Contenu principal -->
    <main>
        <!-- Connexion -->
        <section class="screen active" id="screen-login" role="region" aria-label="Connexion">
            <div class="loginhero">
                <div class="avatar" style="margin:0 auto 10px">ED</div>
                <h1>Clinical Procedures &amp; SMUR</h1>
                <p>Prototype ‚Äî connexion requise</p>
            </div>

            <div class="card">
                <div class="label">Email</div>
                <div class="searchbar">
                    <input type="email" id="email" placeholder="nom@hopital.org" aria-label="Email" autocomplete="username">
                </div>
                <div class="label">Mot de passe</div>
                <div class="searchbar">
                    <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" aria-label="Mot de passe" autocomplete="current-password">
                </div>

                <div class="row" style="margin-top:12px; justify-content:space-between">
                    <button class="btn" id="btnDemoFill">D√©mo</button>
                    <button class="btn primary" id="btnLogin">Se connecter</button>
                </div>
            </div>
            <div class="muted" style="margin:10px 4px">En continuant, vous acceptez les conditions du pilote. Aucun contenu m√©dical r√©el.</div>
        </section>

        <!-- Accueil -->
        <section class="screen" id="screen-home" role="region" aria-label="Accueil">
            <div class="card">
                <div class="searchbar">
                    <span aria-hidden="true">üîé</span>
                    <input id="inputSearch" type="text" placeholder="Rechercher une proc√©dure" aria-label="Recherche">
                </div>
                <div class="quick" role="navigation" aria-label="Acc√®s rapide">
                    <div class="tile" data-nav="procedures">üìö Proc√©dures</div>
                    <div class="tile" data-nav="smur">üöë SMUR</div>
                    <div class="tile" data-nav="favorites">‚≠ê Favoris</div>
                </div>
            </div>

            <div class="section-title">Derni√®res mises √† jour</div>
            <div id="feed" aria-live="polite"></div>
        </section>

        <!-- Liste des proc√©dures -->
        <section class="screen" id="screen-procedures" role="region" aria-label="Liste des proc√©dures">
            <div class="row" style="margin-bottom:8px" role="tablist" aria-label="Filtre type">
                <div class="pill active" id="pillAll" role="tab" aria-selected="true">Toutes</div>
                <div class="pill" data-type="general" role="tab" aria-selected="false">G√©n√©ral</div>
                <div class="pill" data-type="smur" role="tab" aria-selected="false">SMUR</div>
            </div>
            <div class="list" id="procList"></div>
        </section>

        <!-- D√©tail -->
        <section class="screen" id="screen-detail" role="region" aria-label="D√©tail de la proc√©dure">
            <div class="card">
                <div class="row" style="justify-content:space-between">
                    <div>
                        <div class="kicker" id="detailType"></div>
                        <h2 id="detailTitle" style="margin:4px 0 6px"></h2>
                        <div class="subtitle" id="detailSystem"></div>
                    </div>
                    <button class="heart" id="btnHeart" title="Ajouter aux favoris" aria-label="Ajouter aux favoris">‚ô°</button>
                </div>
                <div class="tags" id="detailTags"></div>
                <div class="imgph" aria-hidden="true">Visuel √† ajouter</div>
                <div id="detailContent" style="margin-top:10px; line-height:1.55"></div>
                <div class="footer-meta" id="detailMeta"></div>
            </div>
        </section>

        <!-- Section SMUR -->
        <section class="screen" id="screen-smur" role="region" aria-label="SMUR">
            <div class="grid" id="smurGrid"></div>
        </section>

        <!-- Favoris -->
        <section class="screen" id="screen-favorites" role="region" aria-label="Favoris">
            <div class="list" id="favList"></div>
        </section>

        <!-- R√©glages -->
        <section class="screen" id="screen-settings" role="region" aria-label="R√©glages">
            <div class="card">
                <div class="label">Choisir l'h√¥pital</div>
                <div class="searchbar">
                    <select id="selHospital" aria-label="S√©lection de l'h√¥pital"></select>
                </div>
                <div class="row" style="margin-top:10px; gap:8px">
                    <button class="btn" id="btnDownload">T√©l√©charger pour hors ligne</button>
                    <button class="btn" id="btnClear">Vider le cache</button>
                </div>
            </div>
            <div class="card">
                <div class="label">√Ä propos</div>
                <div class="muted" id="aboutText"></div>
            </div>
        </section>
    </main>

    <!-- ‚úÖ Toast de notification -->
    <div class="toast" id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
</div>

<!-- ‚úÖ Script principal -->
<script type="module" src="./app.js"></script>
</body>
</html>
